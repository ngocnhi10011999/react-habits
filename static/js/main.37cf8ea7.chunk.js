(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{191:function(e,t,a){e.exports=a(347)},196:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);for(var n=a(0),r=a.n(n),c=a(43),u=a.n(c),i=(a(196),a(18)),o=a(23),l=a(110),s=a(8),d=a.n(s),p=a(16),f=a(29),h=a.n(f),m="https://mern-habit-tracker.herokuapp.com/api/auth",b=null,y={register:function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(m,"/register"),t);case 2:if(!(a=e.sent).data.error){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(m,"/login"),t);case 2:if(!(a=e.sent).data.error){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){b="bearer ".concat(e)},getToken:function(){return b}},E="https://mern-habit-tracker.herokuapp.com/api/dates",v={getAll:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:y.getToken()}},e.next=3,h.a.get(E,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addNew:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:y.getToken()}},e.next=3,h.a.post(E,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:y.getToken()}},e.next=3,h.a.put("".concat(E,"/").concat(t),a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.addNew(e);case 2:n=t.sent,a({type:"ADDDATE",data:Object(l.a)(Object(l.a)({},n),{},{habitsMarked:n.habitsMarked.map((function(e){return e.id}))})});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITDATES":return t.data;case"ADDDATE":return e.concat(t.data);case"TOGGLEHABIT":return e.map((function(e){return e.id===t.data.id?t.data:e}));default:return e}},w=a(55),T={addDate:g,toggleHabit:function(e,t){return function(){var a=Object(p.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.update(e.id,t);case 2:r=a.sent,n({type:"TOGGLEHABIT",data:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},I=Object(i.b)((function(e){return{dates:e.dates,display:e.display}}),T)((function(e){var t=e.thisDate,a=e.i,c=e.habit,u=e.display,i=e.addDate,l=e.toggleHabit,s=e.dates,d=Object(n.useState)(!1),p=Object(o.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){var e=s.filter((function(e){return e.year===u.displayYear})).filter((function(e){return e.month===u.displayMonth+1})).find((function(e){return e.day===a}));h(void 0!==e&&void 0!==e.habitsMarked.find((function(e){return e===c.id})))}),[s,u.displayYear,u.displayMonth,a,c.id]);return r.a.createElement("div",{onClick:function(){void 0===t?i({day:a,month:u.displayMonth+1,year:u.displayYear,habitsMarked:[c]}):l(t,c),h(!f)}},f?r.a.createElement(w.a,{name:"circle"}):r.a.createElement(w.a,{name:"circle outline"}))})),k="https://mern-habit-tracker.herokuapp.com/api/habits",j={getAll:function(){var e=Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:y.getToken()}},e.next=3,h.a.get(k,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addNew:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:y.getToken()}},e.next=3,h.a.post(k,t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:y.getToken()}},e.next=3,h.a.put("".concat(k,"/").concat(t.id),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:y.getToken()}},e.next=3,h.a.delete("".concat(k,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITHABITS":return t.data;case"NEWHABIT":return e.concat(t.data);case"DELETEHABIT":return e.filter((function(e){return e.name!==t.data.name}));case"HIGHLIGHTHABIT":return e.map((function(e){return e.name===t.data.name?t.data:e}));default:return e}},x=a(359),M=a(361),A={deleteHabit:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.remove(e.id);case 2:a({type:"DELETEHABIT",data:e}),a({type:"SETNOTIFICATION",data:"Deleted habit: ".concat(e.name)}),setTimeout((function(){a({type:"SETNOTIFICATION",data:null})}),4e3);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},highlightHabit:function(e){return e.important=!e.important,function(){var t=Object(p.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.update(e);case 2:n=t.sent,a({type:"HIGHLIGHTHABIT",data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},C=Object(i.b)((function(e){return{dates:e.dates,display:e.display}}),A)((function(e){var t=e.habit,a=e.dates,c=e.display,u=e.deleteHabit,i=e.highlightHabit,l=Object(n.useState)(a),s=Object(o.a)(l,2),d=s[0],p=s[1],f=Object(n.useState)([]),h=Object(o.a)(f,2),m=h[0],b=h[1],y=Object(n.useState)(!1),E=Object(o.a)(y,2),v=E[0],g=E[1];Object(n.useEffect)((function(){var e=a.filter((function(e){return e.year===c.displayYear})).filter((function(e){return e.month===c.displayMonth+1}));p(e)}),[a,c.displayMonth,c.displayYear]),Object(n.useEffect)((function(){for(var e=[],a=function(a){var n={thisDate:d.find((function(e){return e.day===a})),i:a,habit:t};e.push(n)},n=1;n<=c.displayMonthLength;n++)a(n);b(e)}),[c.displayMonthLength,d,t]),Object(n.useEffect)((function(){g(t.important)}),[t.important]);return r.a.createElement(x.a.Row,null,r.a.createElement(x.a.Cell,{onClick:function(){g(!v),i(t)},style:v?{backgroundColor:"yellow"}:{backgroundColor:""}},t.name),m.map((function(e){return r.a.createElement(x.a.Cell,{key:e.i},r.a.createElement(I,e))})),r.a.createElement(x.a.Cell,null,r.a.createElement(M.a,{animated:!0,color:"red",onClick:function(){return u(t)}},r.a.createElement(M.a.Content,{visible:!0},r.a.createElement(w.a,{name:"delete"})),r.a.createElement(M.a.Content,{hidden:!0},"DELETE"))))})),H=["January","February","March","April","May","June","July","August","September","October","November","December"],S=[31,28,31,30,31,30,31,31,30,31,30,31],D=new Date,L=D.getMonth(),F={currentDate:D,displayMonth:L,displayYear:D.getFullYear(),displayMonthName:H[L],displayMonthLength:S[L]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGEMONTH":return t.data<0?{currentDate:e.currentDate,displayMonth:11,displayYear:e.displayYear-1,displayMonthName:H[11],displayMonthLength:S[11]}:t.data>11?{currentDate:e.currentDate,displayMonth:0,displayYear:e.displayYear+1,displayMonthName:H[0],displayMonthLength:S[0]}:{currentDate:e.currentDate,displayMonth:t.data,displayYear:e.displayYear,displayMonthName:H[t.data],displayMonthLength:S[t.data]};default:return e}},Y=a(355),B=a(84),P=a(356),R={padding:"10px","text-align":"center"},z=[],U=1;U<=31;U++){var J=r.a.createElement(x.a.HeaderCell,{style:R,key:U},U);z.push(J)}var W={addDate:g,changeDisplayMonth:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CHANGEMONTH",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},initHabits:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getAll();case 2:a=e.sent,t({type:"INITHABITS",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},initDates:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAll();case 2:a=e.sent,t({type:"INITDATES",data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},q=Object(i.b)((function(e){return{habits:e.habits,dates:e.dates,display:e.display}}),W)((function(e){return Object(n.useEffect)((function(){e.initHabits()}),[e]),Object(n.useEffect)((function(){e.initDates()}),[e]),r.a.createElement(Y.a,{style:{width:"100%"}},r.a.createElement("h2",null,"".concat(e.display.displayMonthName," (").concat(e.display.displayMonth+1,"/").concat(e.display.displayYear,")")),e.display.displayMonth===e.display.currentDate.getMonth()?r.a.createElement(B.a,{color:"teal"},"Current Month"):r.a.createElement(r.a.Fragment,null),r.a.createElement(P.a,{hidden:!0}),r.a.createElement(Y.a,{style:{width:"100%",margin:"0 auto"}},r.a.createElement(x.a,{striped:!0,celled:!0,compact:"very",style:{}},r.a.createElement(x.a.Header,null,r.a.createElement(x.a.Row,null,r.a.createElement(x.a.HeaderCell,null,"Habit"),z.slice(0,e.display.displayMonthLength).map((function(e){return e})),r.a.createElement(x.a.HeaderCell,null,"Delete"))),r.a.createElement(x.a.Body,null,e.habits.map((function(e){return r.a.createElement(C,{key:e.name,habit:e})}))))),r.a.createElement(P.a,{hidden:!0}),r.a.createElement(M.a,{icon:!0,labelPosition:"left",onClick:function(){return e.changeDisplayMonth(e.display.displayMonth-1)}},r.a.createElement(w.a,{name:"angle left"}),r.a.createElement(M.a.Content,null,"Previous Month")),r.a.createElement(M.a,{icon:!0,labelPosition:"right",onClick:function(){return e.changeDisplayMonth(e.display.displayMonth+1)}},r.a.createElement(w.a,{name:"angle right"}),r.a.createElement(M.a.Content,null,"Next Month")))})),K=a(358),Q={newHabit:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.addNew(e);case 2:n=t.sent,a({type:"NEWHABIT",data:n}),a({type:"SETNOTIFICATION",data:"Added new habit: ".concat(e.name)}),setTimeout((function(){a({type:"SETNOTIFICATION",data:null})}),4e3);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},V=Object(i.b)(null,Q)((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1];return r.a.createElement("div",{style:{width:"60%",margin:"0 auto"}},r.a.createElement("h3",{class:"text-add-habit"},"Add a Habit"),r.a.createElement(K.a,{onSubmit:function(t){t.preventDefault(),e.newHabit({name:c,important:!1}),u("")}},r.a.createElement(K.a.Input,{placeholder:"Jogging",type:"text",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement(K.a.Button,{type:"submit"},"Add new...")))})),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data;case"LOGOUT":return null;default:return e}},Z={login:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.login(e);case 2:(n=t.sent)?(y.setToken(n.token),window.localStorage.setItem("user",JSON.stringify(n)),a({type:"LOGIN",data:n})):(a({type:"SETNOTIFICATION",data:"Login failed. Invalid username or password."}),setTimeout((function(){a({type:"SETNOTIFICATION",data:null})}),4e3));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},$=Object(i.b)(null,Z)((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),s=l[0],d=l[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Log In"),r.a.createElement(K.a,{onSubmit:function(t){t.preventDefault(),e.login({username:c,password:s}),u(""),d("")}},r.a.createElement(K.a.Input,{fluid:!0,label:"Username",placeholder:"Username",type:"text",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement(K.a.Input,{fluid:!0,label:"Password",placeholder:"********",type:"password",value:s,onChange:function(e){return d(e.target.value)}}),r.a.createElement(K.a.Button,{type:"submit"},"Log in")))})),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETNOTIFICATION":return t.data;default:return e}},ee={setNotification:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SETNOTIFICATION",data:e}),setTimeout((function(){a({type:"SETNOTIFICATION",data:null})}),4e3);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},te=Object(i.b)(null,ee)((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),s=l[0],f=l[1],h=Object(n.useState)(""),m=Object(o.a)(h,2),b=m[0],E=m[1],v=function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s!==b){t.next=8;break}return t.next=4,y.register({username:c,password:s});case 4:t.sent?e.setNotification("Registration successful! You may now log in."):e.setNotification("Registration failed. Username may already be in use."),t.next=9;break;case 8:e.setNotification("Passwords Not Matching");case 9:u(""),f(""),E("");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h2",null,"Register"),r.a.createElement(K.a,{onSubmit:v},r.a.createElement(K.a.Input,{fluid:!0,label:"Username",placeholder:"Enter your desired username",type:"text",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement(K.a.Input,{fluid:!0,label:"Password",placeholder:"Password",type:"password",value:s,onChange:function(e){return f(e.target.value)}}),r.a.createElement(K.a.Input,{fluid:!0,label:"Repeat Password",placeholder:"Repeat Password",type:"password",value:b,onChange:function(e){return E(e.target.value)}}),r.a.createElement(P.a,{hidden:!0}),r.a.createElement(B.a,{basic:!0,color:"red"},"By registering you agree not to store truly sensitive information on this website"),r.a.createElement(P.a,{hidden:!0}),r.a.createElement(K.a.Button,{type:"submit"},"Register")))})),ae=a(365),ne=a(364),re=a(366),ce=a(362),ue=a(357),ie=Object(i.b)((function(e){return{dates:e.dates,display:e.display,habits:e.habits}}))((function(e){var t=e.habit,a=e.dates,c=e.display,u=Object(n.useState)(0),i=Object(o.a)(u,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){var e=a.filter((function(e){return e.year===c.displayYear})).filter((function(e){return e.month===c.displayMonth+1})).filter((function(e){return void 0!==e.habitsMarked.find((function(e){return e===t.id}))})),n=Math.round(e.length/c.displayMonthLength*100);s(n)}),[a,c.displayMonthLength,c.displayMonth,t.id,c.displayYear]),r.a.createElement(ne.a,{key:t.id},r.a.createElement("h4",null,t.name),r.a.createElement(ue.a,{percent:l,indicating:!0}),l," % daily habit")})),oe=Object(i.b)((function(e){return{habits:e.habits}}))((function(e){return r.a.createElement(r.a.Fragment,null,e.habits.map((function(e){return r.a.createElement(ie,{key:e.id,habit:e})})))})),le=a(360),se=Object(i.b)((function(e){return{notification:e.notification}}))((function(e){return r.a.createElement(r.a.Fragment,null,null!==e.notification?r.a.createElement(le.a,{info:!0},r.a.createElement(le.a.Header,null,e.notification)):r.a.createElement(r.a.Fragment,null))})),de={autoLogin:function(e){return function(){var t=Object(p.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.setToken(e.token),a({type:"LOGIN",data:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.setItem("user",null),t({type:"LOGOUT"}),t({type:"SETNOTIFICATION",data:"Logged out!"}),setTimeout((function(){t({type:"SETNOTIFICATION",data:null})}),4e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},pe=Object(i.b)((function(e){return{auth:e.auth}}),de)((function(e){Object(n.useEffect)((function(){var t=JSON.parse(window.localStorage.getItem("user"));t&&t.token&&e.autoLogin(t)}),[e]);return r.a.createElement(Y.a,{fluid:!0},null===e.auth?r.a.createElement(Y.a,null,r.a.createElement(P.a,{hidden:!0}),r.a.createElement(ae.a,{as:"h1",icon:!0,textAlign:"center"},r.a.createElement(ae.a.Subheader,null,"FOR DEMONSTRATION PURPOSES ONLY")),r.a.createElement(se,null),r.a.createElement(ne.a,null,r.a.createElement(re.a,{columns:"2",relaxed:!0,stackable:!0},r.a.createElement(re.a.Column,null,r.a.createElement($,null)),r.a.createElement(re.a.Column,{verticalAlign:"middle"},r.a.createElement(te,null))),r.a.createElement(P.a,{vertical:!0},"Or"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,null,r.a.createElement(ce.a.Item,{header:!0,color:"violet",name:"title"},r.a.createElement(w.a,{name:"tasks"}),"Habit Tracker"),r.a.createElement(ce.a.Item,{name:"loggedInUser"},"Logged in as ",e.auth.username),r.a.createElement(ce.a.Item,{position:"right",name:"logout"},r.a.createElement(M.a,{animated:!0,onClick:e.logout},r.a.createElement(M.a.Content,{hidden:!0},"Log Out"),r.a.createElement(M.a.Content,{visible:!0},r.a.createElement(w.a,{name:"log out"}))))),r.a.createElement(Y.a,{style:{width:"100%"}},r.a.createElement(se,null),r.a.createElement(q,null),r.a.createElement(P.a,{horizontal:!0},"New Habit"),r.a.createElement(V,null),r.a.createElement(P.a,{horizontal:!0},"Stats"),r.a.createElement(oe,null))),r.a.createElement(P.a,{hidden:!0}),r.a.createElement(Y.a,null,r.a.createElement(ne.a,{color:"purple"},r.a.createElement("h6",null,"Nteeams / GitHub Repository / GNU GPL 3.0"))))})),fe=a(53),he=a(179),me=Object(fe.c)({habits:N,dates:O,display:G,auth:X,notification:_}),be=Object(fe.d)(me,Object(fe.a)(he.a)),ye=function(){u.a.render(r.a.createElement(i.a,{store:be},r.a.createElement(pe,null)),document.getElementById("root"))};ye(),be.subscribe(ye)}},[[191,1,2]]]);
//# sourceMappingURL=main.37cf8ea7.chunk.js.map